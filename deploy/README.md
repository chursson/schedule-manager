# é˜¿é‡Œäº‘éƒ¨ç½²æŒ‡å—

## ğŸ“‹ å‡†å¤‡å·¥ä½œ

### 1. è´­ä¹°æœåŠ¡å™¨

- **äº§å“**: é˜¿é‡Œäº‘è½»é‡åº”ç”¨æœåŠ¡å™¨
- **é…ç½®**: 2æ ¸2G, 3Må¸¦å®½
- **é•œåƒ**: Ubuntu 22.04
- **ä»·æ ¼**: 24å…ƒ/æœˆï¼ˆå­¦ç”Ÿ9.9å…ƒ/æœˆï¼‰
- **åœ°åŸŸ**: é€‰æ‹©ç¦»æ‚¨æœ€è¿‘çš„ï¼ˆåä¸œ/ååŒ—ç­‰ï¼‰

### 2. æœåŠ¡å™¨åˆå§‹è®¾ç½®

è´­ä¹°åè®°å½•ï¼š
- âœ… æœåŠ¡å™¨å…¬ç½‘IP
- âœ… rootå¯†ç ï¼ˆè´­ä¹°æ—¶è®¾ç½®çš„ï¼‰

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆä¸€é”®è„šæœ¬ï¼‰

### ç¬¬ä¸€æ­¥ï¼šè¿æ¥æœåŠ¡å™¨

**æ–¹æ³•1ï¼šä½¿ç”¨é˜¿é‡Œäº‘ç½‘é¡µç»ˆç«¯**
1. ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°
2. è¿›å…¥è½»é‡åº”ç”¨æœåŠ¡å™¨
3. ç‚¹å‡»"è¿œç¨‹è¿æ¥"

**æ–¹æ³•2ï¼šä½¿ç”¨æœ¬åœ°ç»ˆç«¯ï¼ˆæ¨èï¼‰**
```bash
ssh root@ä½ çš„æœåŠ¡å™¨IP
# è¾“å…¥å¯†ç 
```

### ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œéƒ¨ç½²è„šæœ¬

```bash
# ä¸‹è½½è„šæœ¬
curl -o deploy.sh https://raw.githubusercontent.com/chursson/schedule-manager/main/deploy/aliyun-deploy.sh

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy.sh

# æ‰§è¡Œéƒ¨ç½²
bash deploy.sh
```

ç­‰å¾…5-10åˆ†é’Ÿï¼Œéƒ¨ç½²å®Œæˆï¼

---

## ğŸŒ è®¿é—®åº”ç”¨

éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ï¼š
```
http://ä½ çš„æœåŠ¡å™¨IP
```

ä¾‹å¦‚ï¼š`http://47.98.123.45`

---

## ğŸ”§ å¸¸ç”¨ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
cd /opt/schedule-manager
docker-compose -f deploy/docker-compose.yml ps
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
docker-compose -f deploy/docker-compose.yml logs -f

# åªçœ‹åç«¯æ—¥å¿—
docker-compose -f deploy/docker-compose.yml logs -f backend

# åªçœ‹å‰ç«¯æ—¥å¿—
docker-compose -f deploy/docker-compose.yml logs -f frontend
```

### é‡å¯æœåŠ¡
```bash
cd /opt/schedule-manager
docker-compose -f deploy/docker-compose.yml restart
```

### åœæ­¢æœåŠ¡
```bash
cd /opt/schedule-manager
docker-compose -f deploy/docker-compose.yml down
```

### æ›´æ–°åº”ç”¨
```bash
cd /opt/schedule-manager
git pull
docker-compose -f deploy/docker-compose.yml up -d --build
```

---

## ğŸ”’ é…ç½®HTTPSï¼ˆå…è´¹SSLè¯ä¹¦ï¼‰

### æ–¹æ³•1ï¼šä½¿ç”¨Let's Encryptï¼ˆæ¨èï¼‰

```bash
# å®‰è£… Certbot
apt install -y certbot python3-certbot-nginx

# è·å–è¯ä¹¦ï¼ˆæ›¿æ¢your-domain.comä¸ºæ‚¨çš„åŸŸåï¼‰
certbot --nginx -d your-domain.com

# è‡ªåŠ¨ç»­æœŸ
certbot renew --dry-run
```

### æ–¹æ³•2ï¼šä½¿ç”¨é˜¿é‡Œäº‘SSLè¯ä¹¦
1. åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°ç”³è¯·å…è´¹SSLè¯ä¹¦
2. ä¸‹è½½è¯ä¹¦æ–‡ä»¶
3. é…ç½®åˆ°Nginx

---

## ğŸ“Š èµ„æºç›‘æ§

### æŸ¥çœ‹å†…å­˜ä½¿ç”¨
```bash
free -h
```

### æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
```bash
df -h
```

### æŸ¥çœ‹CPUä½¿ç”¨
```bash
top
```

### æŸ¥çœ‹Dockerèµ„æºä½¿ç”¨
```bash
docker stats
```

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. æ— æ³•è®¿é—®ï¼Ÿ
- æ£€æŸ¥é˜¿é‡Œäº‘å®‰å…¨ç»„æ˜¯å¦å¼€æ”¾80/443ç«¯å£
- æ£€æŸ¥æœåŠ¡å™¨é˜²ç«å¢™ï¼š`ufw status`
- æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œï¼š`docker-compose ps`

### 2. å†…å­˜ä¸è¶³ï¼Ÿ
- æŸ¥çœ‹å†…å­˜ä½¿ç”¨ï¼š`free -h`
- é‡å¯æœåŠ¡é‡Šæ”¾å†…å­˜
- è€ƒè™‘å‡çº§æœåŠ¡å™¨é…ç½®

### 3. ç£ç›˜æ»¡äº†ï¼Ÿ
- æ¸…ç†Dockeré•œåƒï¼š`docker system prune -a`
- æ¸…ç†æ—¥å¿—æ–‡ä»¶
- è€ƒè™‘å‡çº§ç£ç›˜

---

## ğŸ’° æˆæœ¬ä¼˜åŒ–å»ºè®®

1. **ä½¿ç”¨åŒ…å¹´å¥—é¤** - æ¯”æŒ‰æœˆä¾¿å®œçº¦15%
2. **åˆç†é…ç½®å¸¦å®½** - 3Må¸¦å®½å¤Ÿç”¨ï¼Œä¸è¦æµªè´¹
3. **å®šæœŸæ¸…ç†** - åˆ é™¤æ— ç”¨çš„Dockeré•œåƒå’Œæ—¥å¿—
4. **ç›‘æ§æµé‡** - é¿å…è¶…é¢ä½¿ç”¨

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
2. æ£€æŸ¥Dockerå®¹å™¨çŠ¶æ€
3. æŸ¥çœ‹ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
